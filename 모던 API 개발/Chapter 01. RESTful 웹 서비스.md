# Chapter 01. RESTful 웹 서비스

### REST API 소개

- API는 한 코드가 다른 코드와 통신할 때 사용되는 수단이다. 예를 들어 자바는 컬렉션, 입출력, 스트림과 같은 다양한 모듈 안에 포함된 클래스를 통해 API를 제공한다.
- 함수 시그니처는 해당 클래스에 대한 API를 말한다.

- REST 스타일을 따르는 웹서비스를 RESTful 웹 서비스라 한다.

### REST의 역사

- SOAP 방식은 서비스 간 통신 방법이 단순하지 않았다.
- 로이 필딩이 2000년에 박사 학위 연구에서 REST를 제시.

### REST의 기본사항

- HTTP 프로토콜 위에서 작동한다.
- 각 URI는 API 리소스로 작동하기 때문에 엔트포인트로 동사 대신 명사를 사용해야 한다.

> REST 엔드포인트는 REST 리소스를 나타내는 고유한 URI를 의미한다.

- 클라이언트-서버 개념을 기반으로 한다.
- 클라이언트는 REST API를 호출하고 서버는 응답을 보낸다.
- 요청에는 쿼리 매개변수, 헤더 또는 요청 본문 형식의 페이로드가 포함된다.

- REST 관점에서  HTTP 요청은 서버가 처리하기에 충분한 정보를 담고 있기에, REST 호출은 stateless이다.

- REST는 캐시 제어를 사용하므로 REST API를 캐시할 수 있다.

## 리소스와 URI 다루기

- WWW 상의 모든 문서는 HTTP 관점에서 리소스로 여겨진다. 이 리소스는 URI로 표시되며, 서버 상의 고유 리소스를 나타내는 엔드포인트다.

> URI란?(7~8 페이지에 자세한 설명. 꼭 읽어보시길...)
> - 웹에서 리소스의 위치, 이름, 또는 이 둘을 모두 사용해 리소스를 식별하는 문자열을 의미한다.
> - URL과 URN의 두 가지 타입이 있다.

## HTTP 메소드와 상태 코드 살펴보기

> CRUD 오퍼레이션 메소드 5가지
> - POST: 생성 또는 검색
> - GET: 읽기
> - PUT: 갱신
> - DELETE: 삭제
> - PATCH: 부분 갱신

> 일부 조직에서는 REST 엔드포인트에서 헤더 응답을 찾으려는 시나리오를 위해 HEAD 메소드도 제공한다.

### POST

- GET 호출의 길이 제한을 초과할 정도로 매개변수가 많은 검색 상황일 경우, GET 쿼리의 문자열은 256자로 제한.
- 201 Created 상태로 응답할 수 있다.

### GET

- 성공적인 응답에 데이터가 포함된 경우 200 OK, 응답에 데이터가 포함되지 않은 경우 204 No Content

### PUT

- 성공적인 응답에 데이터가 포함된 경우 200 OK, 응답에 데이터가 포함되지 않은 경우 204 No Content

### DELETE

- 성공적인 DELETE 작업은 204 No Content

### PATCH

- 성공적인 PATCH 작업은 200 OK

## HATEOAS란

- RESTful 웹 서비스는 HATEOAS라는 하이퍼미디어를 통해 동적으로 정보를 제공한다.
- 하이퍼미디어는 REST 호출 응답으로 수신하는 콘텐츠의 일부이다.
- REST API는 하이퍼텍스트 기반이어야 한다.


### API 보안

- REST API는 stateless 특징을 지니고 있기 때문에 쿠키나 세션 방식을 사용하면 안된다.
- JWT 또는 OAuth 2.0 기반 토큰을 사용하여야 한다.
